{% extends "base.html" %}


{% block style %}
<style>
section {
display: flex;
flex-direction: row;
}
body {
background-color: #ecf8ff;
}

.gamesSection{
    display: flex;
    flex-direction: row;
    width: 100%;
}

#imp {
background-color: #ecf8ff !important;

}
#good {
border: none !important;
border-color: #ecf8ff !important ;
}
h1 {

font-size: 60px !important;

color: #1c244b;
text-align: center;
}
h2 {

}
.foot {
background-color: #fff;
}
@media screen and (max-width:768px){
   .classs{
     margin-left: 3% !important;
   }
   .imageries{
    display: none !important;
   }
}
.god{
    background-color:#ecf8ff !important;
}
#badminton{
    width:50vw !important;
    margin-left: -110% !important;
}
        /* Center the buffering animation in the middle of the page */
        #buffering {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
        }
        .saar{
            display: none;
        }
</style>

{% endblock %}



{% block content %}
<div id="buffering">
		<i class="fas fa-spinner fa-spin fa-3x"></i>
	</div>
<nav aria-label="breadcrumb" style="margin-left: 5%; margin-top: 3%">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
        <li class="breadcrumb-item active" aria-current="page">BALL BADMINTON</li>
    </ol>
</nav>
<section class="gamesSection">
    <div class="container py-5 h-100 col-12 col-lg-9 classs" style="margin-left: -15%;">
        <div class="row justify-content-center align-items-center h-100 ">
            <div class="col-12 col-lg-9 col-xl-7">
                <div class="card shadow-2-strong card-registration" style="border-radius: 15px" id="good">
                   <div class="god">
                    <h1 style="font-size:50px">BALL BADMINTON</h1>
                    <h2 style="text-align: center;">Enter Team Details</h2>

                   </div>
                    <div class="card-body p-2 p-md-5" id="imp">
                        <form method="POST">
                            {% if input1 is defined %}
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName" >Unique Id</label>
                                        <input type="text" id="input1" name="input1"
                                            class="form-control form-control-lg" value="{{input1[2] if input1[2] !=None else 'Not registered'}}" readonly/>
                                    </div>
                                </div>
                                
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Name</label>
                                        <input type="text" id="output1" name="output1"
                                            class="form-control form-control-lg"  value="{{input1[3] if input1[3] !=None else 'Not registered'}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Email</label>
                                        <input type="text" id="input12" name="input12"
                                            class="form-control form-control-lg"   value="{{input1[4] if input1[4] !=None else 'Not registered'}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Status</label>
                                        <input type="text" id="status" name="status"
                                            class="form-control form-control-lg"   value="{{input1[-1]}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <a href="{{url_for('remove',game=game,rid=input1[0])}}" class="btn btn-primary">Remove</a>
                                </div>
                            </div>
                            {% else %}
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Enter Email or Unique Id</label>
                                        <input type="text" id="input1" name="input1" oninput="autoSubmit(1)"
                                            class="form-control form-control-lg" />
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Details</label>
                                        <input type="text" id="output1" name="output1"
                                            class="form-control form-control-lg" />
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <button id="send1" class="saar btn btn-primary" onclick="send_invite(1)"  class="btn btn-primary">invite</button>
                                </div>
                            </div>
                            {% endif %}
                            {% if input2 is defined %}

                            <div class="row">
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="DetailsAddress">Unique Id</label>
                                        <input type="Details" id="input2" name="input2"
                                            class="form-control form-control-lg" value="{{input2[2] if input2[2] !=None else 'Not registered'}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="phoneNumber">Name</label>
                                        <input type="tel" id="output2" name="n3" class="form-control form-control-lg" value="{{input2[3] if input2[3] !=None else 'Not registered'}}" readonly/>
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Email</label>
                                        <input type="text" id="input21" name="input21"
                                            class="form-control form-control-lg" value="{{input2[4] if input2[4] !=None else 'Not registered'}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Status</label>
                                        <input type="text" id="status" name="status"
                                            class="form-control form-control-lg"  value="{{input2[-1]}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <a href="{{url_for('remove',game=game,rid=input2[0])}}" class="btn btn-primary" >Remove</a>
                                </div>
                            </div>
                            {% else %}
                            <div class="row">
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="DetailsAddress">Enter Email or Unique Id</label>
                                        <input type="Details" id="input2" name="input2" oninput="autoSubmit(2)"
                                            class="form-control form-control-lg" />
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="phoneNumber">Details</label>
                                        <input type="tel" id="output2" name="n3" class="form-control form-control-lg" />
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <button id="send2" onclick="send_invite(2)" class="saar btn btn-primary">invite</button>
                                </div>
                            </div>
                            {% endif %}
                            {% if input3 is defined %}
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Unique Id</label>
                                        <input type="text" id="input3" name="n4" 
                                            class="form-control form-control-lg" value="{{input3[2] if input3[2] !=None else 'Not registered'}}" readonly/>
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Name</label>
                                        <input type="text" id="output3" name="n5"
                                            class="form-control form-control-lg" value="{{input3[3] if input3[3] !=None else 'Not registered'}}" readonly/>
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Email</label>
                                        <input type="text" id="input31" name="input31"
                                            class="form-control form-control-lg"  value="{{input3[4] if input3[4] !=None else 'Not registered'}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Status</label>
                                        <input type="text" id="status" name="status"
                                            class="form-control form-control-lg"   value="{{input3[-1]}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <a href="{{url_for('remove',game=game,rid=input3[0])}}" class="btn btn-primary">Remove</a>
                                </div>
                            </div>
                            {% else %}
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Enter Email or Unique Id</label>
                                        <input type="text" id="input3" name="n4" oninput="autoSubmit(3)"
                                            class="form-control form-control-lg" />
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Details</label>
                                        <input type="text" id="output3" name="n5"
                                            class="form-control form-control-lg" />
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <button id="send3" onclick="send_invite(3)" class="saar btn btn-primary">invite</button>
                                </div>
                            </div>
                            {% endif %}
                            {% if input4 is defined %}
                            <div class="row">
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="DetailsAddress">Unique Id</label>
                                        <input type="Details" id="input4" name="n6" value="{{input4[2] if input4[2] !=None else 'Not registered'}}"
                                            class="form-control form-control-lg" readonly/>
                                       
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="phoneNumber">Name</label>
                                        <input type="tel" id="output4" name="n7" class="form-control form-control-lg" value="{{input4[3] if input4[3] !=None else 'Not registered'}}" readonly/>
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Email</label>
                                        <input type="text" id="input41" name="input41"
                                            class="form-control form-control-lg" value="{{input4[4] if input4[4] !=None else 'Not registered'}}"  readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Status</label>
                                        <input type="text" id="status" name="status"
                                            class="form-control form-control-lg" value="{{input4[-1]}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <a href="{{url_for('remove',game=game,rid=input4[0])}}" class="btn btn-primary">Remove</a>
                                </div>
                            </div>
                            {% else %}
                            <div class="row">
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="DetailsAddress">Enter Email or Unique Id</label>
                                        <input type="Details" id="input4" name="n6" 
                                            class="form-control form-control-lg" oninput="autoSubmit(4)"/>
                                       
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="phoneNumber">Details</label>
                                        <input type="tel" id="output4" name="n7" class="form-control form-control-lg" />
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <button id="send4" onclick="send_invite(4)" class="saar btn btn-primary">invite</button>
                                </div>
                            </div>
                            {% endif %}
                            {% if input5 is defined %}
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Unique Id</label>
                                        <input type="text" id="input5" name="n8" 
                                            class="form-control form-control-lg" value="{{input5[2] if input5[2] !=None else 'Not registered'}}" readonly/>
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Name</label>
                                        <input type="text" id="output5" name="n9"
                                            class="form-control form-control-lg" value="{{input5[3] if input5[3] !=None else 'Not registered'}}" readonly/>
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Email</label>
                                        <input type="text" id="input51" name="input51"
                                            class="form-control form-control-lg" value="{{input5[4] if input5[4] !=None else 'Not registered'}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Status</label>
                                        <input type="text" id="status" name="status"
                                            class="form-control form-control-lg" value="{{input5[-1]}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <a href="{{url_for('remove',game=game,rid=input5[0])}}" class="btn btn-primary">Remove</a>
                                </div>
                            </div>
                            {% else %}
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Enter Email or Unique Id</label>
                                        <input type="text" id="input5" name="n8" oninput="autoSubmit(5)"
                                            class="form-control form-control-lg" />
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Details</label>
                                        <input type="text" id="output5" name="n9"
                                            class="form-control form-control-lg" />
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <button id="send5"  onclick="send_invite(5)" class="saar btn btn-primary">invite</button>
                                </div>
                            </div>
                            {% endif %}
                            {% if input6 is defined %}
                            <div class="row">
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="DetailsAddress">Unique Id</label>
                                        <input type="Details" id="input6" name="n10"
                                            class="form-control form-control-lg" value="{{input6[2] if input6[2] !=None else 'Not registered'}}" readonly/>
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="phoneNumber">Name</label>
                                        <input type="tel" id="output6" name="n11"
                                            class="form-control form-control-lg" value="{{input6[3] if input6[3] !=None else 'Not registered'}}" readonly/>
                                       
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="firstName">Email</label>
                                        <input type="text" id="input61" name="input61"
                                            class="form-control form-control-lg" value="{{input6[4] if input6[4] !=None else 'Not registered'}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label class="form-label" for="lastName">Status</label>
                                        <input type="text" id="status" name="status"
                                            class="form-control form-control-lg" value="{{input6[-1]}}" readonly/>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <a href="{{url_for('remove',game=game,rid=input6[0])}}" class="btn btn-primary" >Remove</a>
                                </div>
                            </div>
                            {% else %}
                            <div class="row">
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="DetailsAddress">Enter Email or Unique Id</label>
                                        <input type="Details" id="input6" name="n10" oninput="autoSubmit(6)"
                                            class="form-control form-control-lg" />
                                        
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4 pb-2">
                                    <div class="form-outline">
                                        <label class="form-label" for="phoneNumber">Details</label>
                                        <input type="tel" id="output6" name="n11"
                                            class="form-control form-control-lg" />
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <button id="send6" onclick="send_invite(6)" class="saar btn btn-primary">invite</button>
                                </div>
                            </div>
                            {% endif %}
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="imageries col-12 col-lg-3" style=" margin-top:10%">
        <img src="{{url_for('static', filename='images/IMA  LOGO  Page Design.png')}}"  alt="imageries" id="badminton"/>
    </div>
</section>


{% endblock %}

{% block script %}


    <!-- Add more corresponding input tags here -->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function autoSubmit(inputNumber) {
            const inputValue = document.getElementById(`input${inputNumber}`).value;
            // Here, you can perform any necessary processing on the inputValue before setting it in the output field.
            // For simplicity, we'll just set it directly.
            document.getElementById(`output${inputNumber}`).value = inputValue;

            // Inivite the data to the Flask route using AJAX
            $.ajax({
                url: "{{url_for('update',game=game)}}",
                method: 'POST',
                data: {inputValue: inputValue,
                    gender:"{{gender}}",
                    },
                success: function(response) {
                    // Update the corresponding output field with the response from the server
                    document.getElementById(`output${inputNumber}`).value = response.outputValue;
                    if (response.outputValue=="Id not found" || response.outputValue=="User Gender doesnot match" || response.outputValue=="User registered to other team" || response.outputValue=='User already in two teams' || response.outputValue=='You cannot add yourself.' || response.outputValue=='User registered to other cricket team'){
                        $(`#send${inputNumber}`).hide();
                    } else {
                        $(`#send${inputNumber}`).show();
                        
                    }
    

                    //document.getElementById(`input${inputNumber}`).readOnly=true
                    

                },
                error: function(error) {
                    // Handle errors if any
                    console.error(error);
                }
            });
        }
    </script>
    <script>
        function send_invite(inputNumber){
            const inputValue = document.getElementById(`input${inputNumber}`).value;
            document.getElementById(`output${inputNumber}`).value = inputValue;
            $("#buffering").show();
            $.ajax({
                url: "{{url_for('registeredgame',game=game)}}",
                method: 'POST',
                data: {
                    input : inputValue,
                },
                success: function(response) {
                    $("#buffering").hide();
                    if (response.message!='Success'){
                        alert(response.message)
                    }else{
                        location.reload();
                    }

                },
                error: function(error) {
                    // Handle errors if any
                    console.error(error);
                }
            });
        }
    </script>
   
	<!--<script>
		$(document).ready(function() {
			// Handle form submission using AJAX
			$("#formregister").click(function(event) {
				event.preventDefault(); // Prevent default form submission

				var input1 = $("#input1").val();
				var output1 = $('#output1').val();
				var input2 = $('#input2').val();
				var output2 = $('#output2').val();
				var input3 = $('#input3').val();
				var output3 = $('#output3').val();
				var input4 = $('#input4').val();
				var output4 = $('#output4').val();
				var input5 = $('#input5').val(); 
				var output5 = $('#output5').val(); 
				var input6 = $('#input6').val(); 
				var output6 = $('#output6').val(); 
                if (input1=="" || output1=="" || input2=="" || output2=="" || output3=="" || input3=="" || output4==""|| input4=="" ||input5==""|| output5=="" || output6=="" || input6=="" )
                {
                    alert("Please fill all fields")
                    return false;
                }
				else{
                    
				$("#formregister").prop("disabled", true);
				$("#buffering").show();
				$.ajax({
					type: "POST",
					url: "{{url_for('registeredgame',game=game)}}",
					data: {
						input1 : input1,
						output1 : output1,
						input2:input2,
						output2 : output2,
						input3 : input3,
						output3 : output3,
						input4 : input4,
						output4: output4,
						input5 : input5,
						output5 : output5,
						input6 : input6,
						output6 :output6,
	
					},
					success: function(response) {
						
						
						alert(response.message);
						$("#buffering").hide();
						$("#formregister").prop("disabled", false);


						
					},
					error: function(err) {
						// Hide buffering animation
						$("#buffering").hide();
						console.log(err);
						$("#formregister").prop("disabled", false);


						// Enable the "Generate OTP" button
						//$("#generateOTP").prop("disabled", false);
					}
				});
                }

			});
		});
	</script>-->

{% endblock %}
